# Runtipi Backup Configuration Analysis

## Overview
Analysis of Runtipi's built-in backup capabilities for host/system configuration (not just per-app backups).

## Key Findings

### Built-in Backup Limitations
- **No automated built-in backup** for Runtipi host configuration itself
- Built-in backup features only cover **individual app data**, not system config
- Manual process required for full system backup/restore

### Manual Backup Method
Runtipi provides a manual backup approach for entire system configuration:

```bash
# Stop Runtipi
sudo ./runtipi-cli stop

# Create full system backup (excluding media, repos, backups folders)
tar -czvf runtipi.tar.gz --exclude='runtipi/media' --exclude='runtipi/repos' --exclude='runtipi/backups' runtipi
```

### Restore Process
```bash
# Transfer archive to new server
tar -xzvf runtipi.tar.gz -C .

# Start Runtipi on new server
cd Runtipi && sudo ./runtipi-cli start
```

## Critical Configuration Files & Folders

### 1. State Folder
- Contains `settings.json` with custom installation settings
- Stores files necessary for Runtipi to run

### 2. Data Folder
- Postgres database data
- Redis data

### 3. Environment Files
- `.env` - Main configuration file (auto-generated by CLI)
- `.env.local` - Custom environment variables (user-created)

### 4. User-config Folder
- Custom app configurations
- `tipi-compose.yml` for customizing Runtipi's Docker Compose

### 5. Traefik Folder
- Reverse proxy configuration
- SSL certificates for runtipi-reverse-proxy

### 6. App Data Folder
- All data of installed apps

## Backup Strategy Recommendations

### What Gets Excluded
- `media` folder - Large media files
- `repos` folder - Repository data
- `backups` folder - Existing backup files

### Best Practices
1. Stop Runtipi before backup to ensure data consistency
2. Ensure Docker is installed on target server before restore
3. Consider installing clean Runtipi instance first, then replace with backup
4. Regular manual backups recommended since no automation exists

## Auto-Backup Apps Feature
- Separate feature for individual app backups only
- Supports daily/weekly/monthly/yearly schedules
- Configurable retention policies
- Can stop apps during backup process
- Does NOT include system configuration

## Documentation Sources
- https://runtipi.io/docs/guides/backup-and-restore
- https://runtipi.io/docs/guides/auto-backup-apps
- https://runtipi.io/docs/reference/folder-structure

## Conclusion
Runtipi requires manual intervention for complete system backup. While it has robust per-app backup automation, the host configuration backup must be handled manually using tar archives and the documented procedure.